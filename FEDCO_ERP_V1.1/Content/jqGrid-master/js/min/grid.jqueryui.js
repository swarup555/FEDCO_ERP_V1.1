var $jscomp={scope:{},findInternal:function(a,m,q){a instanceof String&&(a=String(a));for(var n=a.length,t=0;t<n;t++){var A=a[t];if(m.call(q,A,t,a))return{i:t,v:A}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,q){if(q.get||q.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[m]=q.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,m,q,n){if(m){q=$jscomp.global;a=a.split(".");for(n=0;n<a.length-1;n++){var t=a[n];t in q||(q[t]={});q=q[t]}a=a[a.length-1];n=q[a];m=m(n);m!=n&&null!=m&&$jscomp.defineProperty(q,a,{configurable:!0,writable:!0,value:m})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,q){return $jscomp.findInternal(this,a,q).v}},"es6-impl","es3");
(function(a){"function"===typeof define&&define.amd?define("jquery ./grid.base jquery-ui/dialog jquery-ui/draggable jquery-ui/droppable jquery-ui/resizable jquery-ui/sortable".split(" "),a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){var m=a.jgrid,q=m.jqID,n=null!=a.ui?a.ui.multiselect:null,t=function(b){if(null!=this.grid&&null!=this.grid.p){var l=this,e=this.grid.p,g,c,k,h,d=this.gh,f=this.selectedList,p=this.inGroup,r=f.find("li"),u=r.length-1,m=function(b,c,d){var e,
h=f.find("li");for(void 0===c&&(c=d?h.length-1:0);d?0<=c:c<h.length;d?c--:c++)if((e=a(h[c]).data("optionLink"))&&b.call(h[c],parseInt(e.val(),10),c))return c},q=function(){c=a.inArray(e.colModel[b].name,l.newColOrder);0<=c&&l.newColOrder.splice(c,1);r=f.find("li");g=0;m(function(c,d){if(c===b){for(u=d;0<=g&&g<e.colModel.length&&(e.colModel[g].hidden||e.colModel[g].hidedlg)&&null!=p&&p[g]===p[b];)g++;l.newColOrder.splice(g,0,e.colModel[b].name);return!0}g=a.inArray(e.colModel[c].name,l.newColOrder,
g);0>g&&(g=a.inArray(e.colModel[c].name,l.newColOrder));g++})},n=function(c){if(p[c]===p[b])return a(this).after(r[u]),q(),!0},t=function(c){if(p[c]===p[b])return a(this).before(r[u]),q(),!0},w=function(a){if(p[a]===p[b]&&void 0!==p[a])return d[p[a]].startColumnName=e.colModel[a].name,!0};q();if(d&&void 0!==d[p[b]])for(h=d[p[b]],c=0;c<h.numberOfColumns;c++){if(g=e.iColByName[h.startColumnName]+c,!e.colModel[g].hidden&&!e.colModel[g].hidedlg){m(n,u-1,!0);m(t,u+1);m(w);break}}else!d||(r=f.find("li"),
c=m(function(a){if(a===b)return!0}),c+1>=r.length||0>c||!(h=a(r[c+1]).data("optionLink")))||(k=p[parseInt(h.val(),10)],void 0!==k&&(h=a(r[c-1]).data("optionLink"))&&p[parseInt(h.val(),10)]===k&&(h=m(function(a){if(p[a]!==k)return!0},c+1),a(r[void 0===h||h>=r.length?r.length-1:h-1]).after(r[u]),q()))}};m.msie&&8===m.msiever()&&(a.expr[":"].hidden=function(a){return 0===a.offsetWidth||0===a.offsetHeight||"none"===a.style.display});m._multiselect=!1;if(n){if(n.prototype._setSelected){var A=n.prototype._setSelected;
n.prototype._setSelected=function(b,l){var e=A.call(this,b,l),g=this.element,c=parseInt(b.data("optionLink").val(),10);l&&this.selectedList&&(t.call(this,c),this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(g)}));return e}}n.prototype.destroy&&(n.prototype.destroy=function(){this.element.show();this.container.remove();void 0===a.Widget?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)});
m._multiselect=!0}m.extend({sortableColumns:function(b){return this.each(function(){function l(){g.disableClick=!0}var e=this,g=e.p,c=q(g.id);if(g&&g.sortable&&a.isFunction(a.fn.sortable)){c={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+c+"_cb,#jqgh_"+c+"_rn,#jqgh_"+c+"_subgrid),:hidden)",placeholder:{element:function(b){return a(document.createElement(b[0].nodeName)).addClass(b[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},
update:function(a,b){b.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10));b.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10))}},start:function(){e.grid.hDiv.scrollLeft=e.grid.bDiv.scrollLeft},update:function(b,c){var d=a(">th",a(c.item).parent()),h=g.id+"_",k=[];d.each(function(){var b=a(">div",this).get(0).id.replace(/^jqgh_/,"").replace(h,
""),b=g.iColByName[b];void 0!==b&&k.push(b)});a(e).jqGrid("remapColumns",k,!0,!0);a.isFunction(g.sortable.update)&&g.sortable.update(k);setTimeout(function(){g.disableClick=!1},50)}};g.sortable.options?a.extend(c,g.sortable.options):a.isFunction(g.sortable)&&(g.sortable={update:g.sortable});if(c.start){var k=c.start;c.start=function(a,b){l();k.call(this,a,b)}}else c.start=l;g.sortable.exclude&&(c.items+=":not("+g.sortable.exclude+")");c=b.sortable(c);c=c.data("sortable")||c.data("uiSortable")||c.data("ui-sortable");
null!=c&&(c.floating=!0)}})},columnChooser:function(b){function l(b,c){b&&("string"===typeof b?a.fn[b]&&a.fn[b].apply(c,a.makeArray(arguments).slice(2)):a.isFunction(b)&&b.apply(c,a.makeArray(arguments).slice(2)))}var e=this,g=e[0],c=g.p,k,h,d,f,p,r=c.colModel,u=r.length,v=c.colNames,B=function(a){return n&&n.prototype&&a.data(n.prototype.widgetFullName||n.prototype.widgetName)||a.data("ui-multiselect")||a.data("multiselect")};if(!a("#colchooser_"+q(c.id)).length){k=a('<div id="colchooser_'+c.id+
'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>');h=a("select",k);b=a.extend({width:400,height:240,classname:null,done:function(a){a&&e.jqGrid("remapColumns",a,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(b){var c={};c[b.bSubmit]=function(){b.apply_perm();b.cleanup(!1)};c[b.bCancel]=function(){b.cleanup(!0)};return a.extend(!0,{buttons:c,close:function(){b.cleanup(!0)},modal:b.modal||
!1,resizable:b.resizable||!0,width:b.width+70,resize:function(){var a=B(h),b=a.container.closest(".ui-dialog-content");0<b.length&&"object"===typeof b[0].style?b[0].style.width="":b.css("width","");a.selectedList.height(Math.max(a.selectedContainer.height()-a.selectedActions.outerHeight()-1,1));a.availableList.height(Math.max(a.availableContainer.height()-a.availableActions.outerHeight()-1,1))}},b.dialog_opts||{})},apply_perm:function(){var d=Array(c.colModel.length),k,g={notSkipFrozen:void 0===b.notSkipFrozen?
!1:b.notSkipFrozen,skipSetGridWidth:!0,skipSetGroupHeaders:!0};for(k=0;k<c.colModel.length;k++)d[k]=c.iColByName[f.newColOrder[k]];a("option",h).each(function(){a(this).is(":selected")?e.jqGrid("showCol",r[this.value].name,g):e.jqGrid("hideCol",r[this.value].name,g)});b.done&&b.done.call(e,d);if(c.groupHeader&&("object"===typeof c.groupHeader||a.isFunction(c.groupHeader)))if(e.jqGrid("destroyGroupHeader",!1),c.groupHeader.groupHeaders=f.gh,null!=c.pivotOptions&&null!=c.pivotOptions.colHeaders&&1<
c.pivotOptions.colHeaders.length)for(d=c.pivotOptions.colHeaders,k=0;k<d.length;k++)d[k]&&d[k].groupHeaders.length&&e.jqGrid("setGroupHeaders",d[k]);else e.jqGrid("setGroupHeaders",c.groupHeader);k=c.autowidth||void 0!==c.widthOrg&&"auto"!==c.widthOrg&&"100%"!==c.widthOrg?c.width:c.tblwidth;k!==c.width&&e.jqGrid("setGridWidth",k,c.shrinkToFit)},cleanup:function(a){l(b.dlog,k,"destroy");l(b.msel,h,"destroy");k.remove();a&&b.done&&b.done.call(e)},msel_opts:{}},e.jqGrid("getGridRes","col"),m.col,b||
{});if(a.ui&&n&&n.defaults){if(!m._multiselect){(null!=m.defaults&&a.isFunction(m.defaults.fatalError)?m.defaults.fatalError:alert)("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}b.msel_opts=a.extend(n.defaults,b.msel_opts)}b.caption&&k.attr("title",b.caption);b.classname&&(k.addClass(b.classname),h.addClass(b.classname));b.width&&(a(">div",k).css({width:b.width,margin:"0 auto"}),h.css("width",b.width));b.height&&(a(">div",k).css("height",b.height),h.css("height",
b.height-10));h.empty();p=null!=c.groupHeader?c.groupHeader.groupHeaders:0;var y={},z,w,x;if(p)for(z=0;z<p.length;z++)for(x=p[z],w=0;w<x.numberOfColumns;w++)d=c.iColByName[x.startColumnName]+w,y[d]=a.isFunction(b.buildItemText)?b.buildItemText.call(e[0],{iCol:d,cm:r[d],cmName:r[d].name,colName:v[d],groupTitleText:x.titleText}):a.jgrid.stripHtml(x.titleText)+": "+a.jgrid.stripHtml(""===v[d]?r[d].name:v[d]);for(d=0;d<u;d++)void 0===y[d]&&(y[d]=a.isFunction(b.buildItemText)?b.buildItemText.call(e[0],
{iCol:d,cm:r[d],cmName:r[d].name,colName:v[d],groupTitleText:null}):a.jgrid.stripHtml(v[d]));a.each(r,function(a){this.hidedlg||h.append("<option value='"+a+"'"+(c.headertitles||this.headerTitle?" title='"+m.stripHtml("string"===typeof this.headerTitle?this.headerTitle:y[a])+"'":"")+(this.hidden?"":" selected='selected'")+">"+y[a]+"</option>")});d=a.isFunction(b.dlog_opts)?b.dlog_opts.call(e,b):b.dlog_opts;l(b.dlog,k,d);d=a.isFunction(b.msel_opts)?b.msel_opts.call(e,b):b.msel_opts;l(b.msel,h,d);d=
a("#colchooser_"+q(c.id));d.css({margin:"auto"});d.find(">div").css({width:"100%",height:"100%",margin:"auto"});if(f=B(h)){f.grid=g;if(p)for(f.gh=a.extend(!0,[],p),f.inGroup=Array(c.colModel.length),u=0;u<p.length;u++)for(v=p[u],d=0;d<v.numberOfColumns;d++)f.inGroup[c.iColByName[v.startColumnName]+d]=u;f.newColOrder=a.map(r,function(a){return a.name});f.container.css({width:"100%",height:"100%",margin:"auto"});f.selectedContainer.css({width:100*f.options.dividerLocation+"%",height:"100%",margin:"auto",
boxSizing:"border-box"});f.availableContainer.css({width:100-100*f.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"});f.selectedList.css("height","auto");f.availableList.css("height","auto");p=Math.max(f.selectedList.height(),f.availableList.height());p=Math.min(p,a(window).height());f.selectedList.css("height",p);f.availableList.css("height",p);if(null!=f.options&&f.options.sortable)f.selectedList.on("sortupdate",function(c,d){t.call(f,parseInt(d.item.data("optionLink").val(),
10));d.item.css({width:"",height:""});a.isFunction(b.sortUpdate)&&b.sortUpdate.call(g,c,d)});a.isFunction(b.init)&&b.init.call(g,f)}}},sortableRows:function(b){return this.each(function(){var l=this,e=l.grid,g=l.p;e&&!g.treeGrid&&a.fn.sortable&&(b=a.extend({cursor:"move",axis:"y",items:">tbody>.jqgrow"},b||{}),b.start&&a.isFunction(b.start)?(b._start_=b.start,delete b.start):b._start_=!1,b.update&&a.isFunction(b.update)?(b._update_=b.update,delete b.update):b._update_=!1,b.start=function(c,k){a(k.item).css("border-width",
"0");a("td",k.item).each(function(a){this.style.width=e.cols[a].style.width});if(g.subGrid){var h=a(k.item).attr("id");try{a(l).jqGrid("collapseSubGridRow",h)}catch(d){}}b._start_&&b._start_.apply(this,[c,k])},b.update=function(c,k){a(k.item).css("border-width","");!0===g.rownumbers&&a("td.jqgrid-rownum",l.rows).each(function(b){a(this).html(b+1+(parseInt(g.page,10)-1)*parseInt(g.rowNum,10))});b._update_&&b._update_.apply(this,[c,k])},a(l).sortable(b))})},gridDnD:function(b){return this.each(function(){function l(){var b=
a.data(e,"dnd");a("tr.jqgrow:not(.ui-draggable)",e).draggable(a.isFunction(b.drag)?b.drag.call(a(e),b):b.drag)}var e=this,g,c;if(e.grid&&!e.p.treeGrid&&a.fn.draggable&&a.fn.droppable)if(void 0===a("#jqgrid_dnd")[0]&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"===typeof b&&"updateDnD"===b&&!0===e.p.jqgdnd)l();else if(b=a.extend({drag:function(b){return a.extend({start:function(c,d){var f;if(e.p.subGrid){f=a(d.helper).attr("id");try{a(e).jqGrid("collapseSubGridRow",
f)}catch(p){}}for(f=0;f<a.data(e,"dnd").connectWith.length;f++)0===a(a.data(e,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")&&a(a.data(e,"dnd").connectWith[f]).jqGrid("addRowData","jqg_empty_row",{});d.helper.addClass("ui-state-highlight");a("td",d.helper).each(function(a){this.style.width=e.grid.headers[a].width+"px"});b.onstart&&a.isFunction(b.onstart)&&b.onstart.call(a(e),c,d)},stop:function(c,d){var f;d.helper.dropped&&!b.dragcopy&&(f=a(d.helper).attr("id"),void 0===f&&(f=a(this).attr("id")),
a(e).jqGrid("delRowData",f));for(f=0;f<a.data(e,"dnd").connectWith.length;f++)a(a.data(e,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row");b.onstop&&a.isFunction(b.onstop)&&b.onstop.call(a(e),c,d)}},b.drag_opts||{})},drop:function(b){return a.extend({accept:function(b){if(!a(b).hasClass("jqgrow"))return b;b=a(b).closest("table.ui-jqgrid-btable");return 0<b.length&&void 0!==a.data(b[0],"dnd")?(b=a.data(b[0],"dnd").connectWith,-1!==a.inArray("#"+q(this.id),b)?!0:!1):!1},drop:function(c,d){if(a(d.draggable).hasClass("jqgrow")){var f=
a(d.draggable).attr("id"),f=d.draggable.parent().parent().jqGrid("getRowData",f);if(!b.dropbyname){var g=0,k={},h,l,m=a("#"+q(this.id)).jqGrid("getGridParam","colModel");try{for(l in f)f.hasOwnProperty(l)&&(h=m[g].name,"cb"!==h&&"rn"!==h&&"subgrid"!==h&&f.hasOwnProperty(l)&&m[g]&&(k[h]=f[l]),g++);f=k}catch(z){}}d.helper.dropped=!0;b.beforedrop&&a.isFunction(b.beforedrop)&&(h=b.beforedrop.call(this,c,d,f,a("#"+q(e.p.id)),a(this)),void 0!==h&&null!==h&&"object"===typeof h&&(f=h));if(d.helper.dropped){var n;
b.autoid&&(a.isFunction(b.autoid)?n=b.autoid.call(this,f):(n=Math.ceil(1E3*Math.random()),n=b.autoidprefix+n));a("#"+q(this.id)).jqGrid("addRowData",n,f,b.droppos);f[e.p.localReader.id]=n}b.ondrop&&a.isFunction(b.ondrop)&&b.ondrop.call(this,c,d,f)}}},b.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5E3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},b||
{}),b.connectWith)for(b.connectWith=b.connectWith.split(","),b.connectWith=a.map(b.connectWith,function(b){return a.trim(b)}),a.data(e,"dnd",b),0===e.p.reccount||e.p.jqgdnd||l(),e.p.jqgdnd=!0,g=0;g<b.connectWith.length;g++)c=b.connectWith[g],a(c).droppable(a.isFunction(b.drop)?b.drop.call(a(e),b):b.drop)})},gridResize:function(b){return this.each(function(){var l=this,e=l.grid,g=l.p,c=g.gView+">.ui-jqgrid-bdiv",k=!1,h,d=g.height;if(e&&a.fn.resizable){b=a.extend({},b||{});b.alsoResize?(b._alsoResize_=
b.alsoResize,delete b.alsoResize):b._alsoResize_=!1;b.stop&&a.isFunction(b.stop)?(b._stop_=b.stop,delete b.stop):b._stop_=!1;b.stop=function(f,m){a(l).jqGrid("setGridWidth",m.size.width,b.shrinkToFit);a(g.gView+">.ui-jqgrid-titlebar").css("width","");k?(a(h).each(function(){a(this).css("height","")}),"auto"!==d&&"100%"!==d||a(e.bDiv).css("height",d)):a(l).jqGrid("setGridParam",{height:a(c).height()});l.fixScrollOffsetAndhBoxPadding&&l.fixScrollOffsetAndhBoxPadding();b._stop_&&b._stop_.call(l,f,m)};
h=c;"auto"!==d&&"100%"!==d||void 0!==b.handles||(b.handles="e,w");if(b.handles){var f=a.map(String(b.handles).split(","),function(b){return a.trim(b)});2===f.length&&("e"===f[0]&&"w"===f[1]||"e"===f[1]&&"w"===f[1])&&(h=g.gView+">div:not(.frozen-div)",k=!0,g.pager&&(h+=","+g.pager))}b.alsoResize=b._alsoResize_?h+","+b._alsoResize_:h;delete b._alsoResize_;a(g.gBox).resizable(b)}})}})});
//# sourceMappingURL=grid.jqueryui.map
